<!doctype html><html lang="en"><head><title>harmonograph.art - v0.1.1</title><meta name="description" content="Draw, download and share a randomised harmonograph."><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="icon" type="image/png" href="/assets/icon-32.png"><link rel="apple-touch-icon" href="/assets/icon-192.png"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3FD562"><meta property="og:type" content="website"><meta property="og:url" content="https://harmonograph.art/"><meta property="og:title" content="harmonograph.art - v0.0.0"><meta property="og:description" content="Draw, download and share a randomised harmonograph."><meta property="og:image" content="https://harmonograph.art/assets/icon-512.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://harmonograph.art/"><meta property="twitter:title" content="harmonograph.art - v0.0.0"><meta property="twitter:description" content="Draw, download and share a randomised harmonograph."><meta property="twitter:image" content="https://harmonograph.art/assets/icon-512.png"><style>:root{--base-font:'SFMono-Medium','SF Mono','Segoe UI Mono','Roboto Mono','Ubuntu Mono',Menlo,Consolas,Courier,monospace;--base-font-size:1rem;--subdued-color:rgba(255,255,255,0.1);--background-color:#1C1C1E;--text-color:#fff;--frame-background-color:#050505;--active-color:#ffd900;--link-color:#008A00;--link-bright-color:#3FD562;--link-muted-color:#BBDBEE;--icon-menu-sm:3rem;--icon-menu-lg:5rem}body,html{height:100%;width:100%;margin:0;padding:0;font-size:var(--base-font-size);font-weight:300;line-height:1.5;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202%202%22%3E%3Cpath%20d%3D%22M1%202V0h1v1H0v1z%22%20fill-opacity%3D%22.15%22%2F%3E%3C%2Fsvg%3E);background-size:1rem;background-color:var(--background-color);color:var(--text-color);font-family:var(--base-font)}body{display:flex;flex-direction:column}@media (min-width:800px){body{flex-direction:row}}h1{font-size:1rem;margin:0}*{box-sizing:border-box}p{margin:0;font-size:.9rem}*+label,*+p{margin-top:1rem}a{color:#fff}[x-cloak]{display:none}button{margin:0;font-family:var(--base-font);cursor:pointer;background-color:var(--link-color);color:var(--text-color);border-radius:.25rem;border:0;font-size:.8rem;padding:.75rem 1.25rem;display:flex;justify-content:center;align-items:center}button svg{fill:currentColor;width:1rem}aside button svg{margin-right:.5rem}button:focus,button:hover,input:focus,input:hover{outline:2px solid var(--active-color);outline-offset:4px}.rotate-icon:not(:active) svg{transform:rotate(180deg);transition:transform .2s ease-in-out}.rotate-icon svg{transform:rotate(0)}p+button{margin-top:1rem}button.secondary{background-color:var(--background-color)}.sr-only{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute}noscript{padding:2rem;width:100%;height:100%;max-height:calc(100vh - 55vh - 2.5rem - 2rem);background-color:var(--frame-background-color);text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}noscript img{margin-top:1rem}@media (min-width:800px){noscript{max-height:100%}}ul{list-style:none;margin:0;padding:0}nav{background:var(--frame-background-color);height:2.5rem}nav ul{display:flex}nav li{flex:1}nav li+li{border-left:1px solid var(--subdued-color)}nav a{display:flex;justify-content:center;align-items:center;height:100%}nav a:focus,nav a:hover{box-shadow:inset 0 -.25rem 0 0 var(--active-color);background-color:var(--subdued-color)}.nav-icon{display:block;max-width:1rem;margin:.5rem}.nav-icon img{max-width:100%}.nav-icon svg{fill:#fff;width:100%}@media (min-width:800px){nav{height:100%}nav ul{display:inline-flex;flex-direction:column}nav a:focus,nav a:hover{box-shadow:inset -.25rem 0 0 0 var(--active-color)}nav li{border-bottom:1px solid var(--subdued-color)}nav li+li{border-left:0}.nav-icon{max-width:2rem;margin:1.5rem;height:2rem}}main{flex:1;display:flex;flex-direction:column;overflow:hidden}@media (min-width:800px){main{flex-direction:row}}aside{height:55vh;background-color:var(--frame-background-color);display:flex;flex-direction:column}.aside-content{flex:1}.aside-section{padding:1rem}.aside-section+.aside-section{border-top:1px solid var(--background-color);min-height:22rem}.aside-footer{display:flex;justify-content:space-around;border-top:1px solid var(--background-color)}.aside-footer button{flex:1;margin:1rem;max-width:15rem}.aside-footer button:last-of-type{margin-left:0}@media (min-width:800px){aside{height:auto;width:22rem}}.app-container>svg{display:none;padding:1rem;width:100%;max-height:calc(100vh - 55vh - 6rem - 2rem);object-fit:scale-down;flex:1;border-radius:.25rem}.js .app-container>svg{display:block}.app-container{flex:1;display:flex;justify-content:center;flex-direction:column;align-items:center;margin:1rem}@media (min-width:800px){.app-container{margin:1rem 2.5rem}.app-container>svg{padding:2.5rem;max-height:calc(100vh - 5rem)}}label{display:block}input[type=text]{background-color:var(--background-color);color:var(--text-color);border:0;font-family:var(--base-font);font-size:1rem;padding:.75rem 1rem;border-radius:.25rem}input[type=range]{-webkit-appearance:none;height:.5rem;width:100%;margin:0;padding:0;margin-top:1rem;margin-bottom:1rem;background:var(--background-color);cursor:pointer;border-radius:.25rem}input[type=range]::-moz-range-thumb{background:#fff;border:none;box-shadow:var(--frame-background-color) 0 0 2px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:.75rem;height:.75rem;border-radius:50%;background:#fff;border:none;box-shadow:var(--frame-background-color) 0 0 2px}.color-input{display:flex;margin-top:.25rem;position:relative}.color-input button{margin-right:.5rem}.color-input input{flex:1}.color-picker-activator{position:relative;overflow:hidden}.swatch{position:absolute;top:0;left:0;height:100%;width:100%;display:block}.color-picker{margin-top:.5rem;position:absolute;z-index:10;top:100%;width:100%;padding:.5rem;margin-bottom:1rem;border-radius:.25rem;background-color:var(--background-color);box-shadow:0 0 5px 0 var(--frame-background-color)}.color-swatch{width:100%;height:6rem;position:relative;cursor:pointer}.color-swatch div{width:100%;height:100%;pointer-events:none;position:absolute}.white-gradient{background:rgba(0,0,0,0) linear-gradient(to right,#fff,rgba(255,255,255,0))}.black-gradient{background:rgba(0,0,0,0) linear-gradient(to top,#000,rgba(0,0,0,0))}.color-location{position:absolute;width:1rem;height:1rem}.color-location:after{content:" ";display:block;transform:translate(-50%,-50%);border:1px solid #fff;box-shadow:#000 0 0 1px,#000 0 0 1px 0 inset;border-radius:1rem;height:100%;width:100%}input[type=range].alpha,input[type=range].hue{height:.75rem;margin:0;-webkit-appearance:none}input[type=range].hue{background:rgba(0,0,0,0) linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%) repeat scroll 0 0}input[type=range].alpha{background-color:#fff}.transparent-bg{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202%202%22%3E%3Cpath%20d%3D%22M1%202V0h1v1H0v1z%22%20fill-opacity%3D%22.15%22%2F%3E%3C%2Fsvg%3E);background-color:#fff;background-size:1rem}.progress-bar{display:flex;align-items:center;width:100%;background-color:var(--frame-background-color);padding:.25rem .5rem;margin-top:.5rem;border-radius:.25rem}.progress-bar button{margin-right:1rem;padding:.5rem}</style><script>document.documentElement.classList.add("js"),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")})</script></head><body><a class="skip-link sr-only" href="#content">Skip to content</a><nav><ul><li><a href="/" title="harmonograph.art"><span class="nav-icon"><img src="/assets/logo.png" alt="harmonograph.art"></span><span class="sr-only">harmonograph.art</span></a></li><li><a href="https://github.com/alex-page/harmonograph.art#readme" title="GitHub"><span class="nav-icon"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="90 90 600 600"><path d="M400 139c144 0 260 116 260 260 0 115-75 213-178 247-9 3-17-2-17-13v-71c0-35-18-48-18-48 57-6 119-28 119-128 0-44-27-70-27-70s14-29-2-69c0 0-22-7-72 27-42-12-88-12-130 0-50-34-72-27-72-27-16 40-2 69-2 69s-27 26-27 70c0 100 62 122 119 128 0 0-14 10-17 35-15 7-53 18-76-22 0 0-13-25-39-27 0 0-26 0-2 16 0 0 17 8 29 38 0 0 16 51 88 35v44c0 11-9 16-18 13-103-34-178-132-178-247 0-144 116-260 260-260z"></path></svg></span><span class="sr-only">GitHub</span></a></li><li><a href="https://twitter.com/alexpage_/" title="Twitter"><span class="nav-icon"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M60 16 L54 17 L58 12 L51 14 C42 4 28 15 32 24 C16 24 8 12 8 12 C8 12 2 21 12 28 L6 26 C6 32 10 36 17 38 L10 38 C14 46 21 46 21 46 C21 46 15 51 4 51 C37 67 57 37 54 21 Z"/></svg> </span><span class="sr-only">Twitter</span></a></li><li><a href="https://alexpage.dev/" title="Alex Page"><span class="nav-icon"><svg class="icon" viewBox="0 0 191 135" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"><path d="M121.580714,128.659607 C121.580714,68.5210939 121.580714,35.4158266 121.580714,29.3438054 C121.580714,26.7457356 120.194524,24.4750481 118.076701,22.8857827 C112.770091,18.9035736 102.869933,19.1996674 98.6737124,29.3438054 C96.637875,34.2653327 89.1069444,49.2365709 85.9434885,56.1484236 C82.7800326,63.0602762 80.1024358,66.4027956 73.3445778,66.4027956 C66.5867198,66.4027956 63.6464965,66.4027956 60.59406,66.4027956 C57.5416235,66.4027956 48.1073625,68.1814934 44.912869,75.5959177 C41.7183754,83.0103421 33.7476604,102.203566 28.6133118,112.851878 C23.4789632,123.50019 19.182632,133.129033 10.6496575,128.659607 C4.96100777,125.67999 3.56829135,121.057365 6.47150821,114.791733 C33.1290138,56.5025145 48.274208,24.2881878 51.9070908,18.1487529 C57.356415,8.93960051 57.2887839,5.46770727 71.3462287,5.15590242 C80.7178586,4.94803253 108.431153,4.94803253 154.486112,5.15590242 C175.843884,8.18527995 186.352299,19.5629773 186.011357,39.2889944 C185.670415,59.0150115 174.785693,69.8997341 153.357189,71.943162 L138.084517,71.943162" stroke="#fff" stroke-width="10"></path></g></svg></span><span class="sr-only">Alex Page</span></a></li></ul></nav><main id="content" x-data="getInitialData()" x-init="initApp()" @resize.window.debounce="setUpColorPicker('strokeColor'); setUpColorPicker('backgroundColor');"><div class="app-container" x-cloak><svg x-ref="svg" :style="`background-color: ${backgroundColor}`" viewBox="0 0 700 700" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" :stroke="strokeColor" :stroke-width="strokeWidth" :d="path" x-cloak :style="`stroke-dasharray: ${pathLength}; stroke-dashoffset: ${pathLength - (drawTime / 100 * pathLength)}; transition: ${isDrawing && pathLength !== null && drawTime > 0 ? 'stroke-dashoffset 1s linear' : 'none'}; will-change: stroke-dashoffset; opacity: ${pathLength ? 1 : 0}`"></path></svg><div class="progress-bar" @keydown.space.window="isDrawing ? pauseAnimation() : playAnimation()" @keydown.arrow-right.window="skipForward()" @keydown.arrow-left.window="skipBackward()"><button class="secondary" x-show="!isDrawing && drawTime >= 100" @click="resetAnimation()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg> <span class="sr-only">Replay</span></button> <button class="secondary" x-show="isDrawing" @click="pauseAnimation()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg> <span class="sr-only">Pause</span></button> <button class="secondary" x-show="!isDrawing && drawTime < 100" @click="playAnimation()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M8 5v14l11-7z"/></svg> <span class="sr-only">Play</span></button> <label for="drawTime" class="sr-only">Progress</label> <input id="drawTime" @input="drawTime = Number($event.target.value)" :value="Number(drawTime)" type="range" min="0" max="100" step="1"></div><noscript><p>The application requires JavaScript to work 💔.</p><img src="https://api.harmonograph.art/28a745" alt="A randomised harmonograph"></noscript></div><aside><div class="aside-content" x-ref="scrollableAside" @scroll.debounce=" setUpColorPicker('strokeColor'); setUpColorPicker('backgroundColor');" :style="`overflow-y: ${(backgroundColorPicker.open || strokeColorPicker.open) ? 'hidden' : 'auto'}`"><div class="aside-section"><h1>harmonograph.art - v0.1.1</h1><p>Draw, download and share a randomised harmonograph.</p><button @click="randomise" class="secondary rotate-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/><path d="M0 0h24v24H0z" fill="none"/></svg> Randomise harmonograph</button></div><div class="aside-section"><label x-ref="strokeColorLabel" for="strokeColor">Stroke color</label><div class="color-input"><button class="color-picker-activator transparent-bg" @click="strokeColorPicker.open = true; scrollTo('strokeColor', $refs.scrollableAside)"><span class="swatch" :style="`background-color: ${ strokeColor }`"></span> <span class="sr-only">Pick a color</span></button> <input id="strokeColor" type="text" x-model="strokeColorInput" @input="updateColor('strokeColor')"><div x-cloak class="color-picker" x-show="strokeColorPicker.open" @keydown.escape.window="strokeColorPicker.open = false; strokeColorPicker.interactive = false" @mousedown.away="strokeColorPicker.open = false; strokeColorPicker.interactive = false" @touchend.away="strokeColorPicker.open = false; strokeColorPicker.interactive = false"><div class="color-swatch transparent-bg" x-ref="strokeColorSwatch" @mousedown="strokeColorPicker.interactive = true" @mousemove.window="strokeColorPicker.interactive && updateXY($event, 'strokeColor')" @mouseup.window="strokeColorPicker.interactive = false" @touchstart="strokeColorPicker.interactive = true" @touchmove.window="strokeColorPicker.interactive && updateXY($event, 'strokeColor')" @touchend.window="strokeColorPicker.interactive = false"><div :style="` background-color: hsl(${ strokeColorPicker.hue }, 100%, 50%); opacity:${ strokeColorPicker.alpha }; will-change: background-color;`"><div class="white-gradient"><div class="black-gradient"></div></div></div><span class="color-location" :style="`transform: translate(${ strokeColorPicker.x }px, ${ strokeColorPicker.y }px)`"></span></div><label class="sr-only" classfor="strokeColorHue">Hue</label> <input id="strokeColorHue" class="hue" @input="{updateHue($event.target.value, 'strokeColor')}" type="range" min="0" max="360" step="0.1" :value="strokeColorPicker.hue"> <label class="sr-only" for="strokeColorAlpha">Alpha</label> <input id="strokeColorAlpha" class="alpha" @input="{updateAlpha($event.target.value, 'strokeColor')}" type="range" min="0" max="1" step="0.01" :value="strokeColorPicker.alpha" :style="`background-image: linear-gradient(to right, rgba(0,0,0,0) 5%, ${ strokeColor.substring(0, 7)} 100%), url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202%202%22%3E%3Cpath%20d%3D%22M1%202V0h1v1H0v1z%22%20fill-opacity%3D%22.15%22%2F%3E%3C%2Fsvg%3E')`"></div></div><label x-ref="backgroundColorLabel" for="backgroundColor">Background color</label><div class="color-input"><button class="color-picker-activator transparent-bg" @click="backgroundColorPicker.open = true; scrollTo('backgroundColor', $refs.scrollableAside)"><span class="swatch" :style="`background-color: ${ backgroundColor }`"></span> <span class="sr-only">Pick a color</span></button> <input id="backgroundColor" type="text" x-model="backgroundColorInput" @input="updateColor('backgroundColor')"><div x-cloak class="color-picker" x-show="backgroundColorPicker.open" @keydown.escape.window="backgroundColorPicker.open = false; backgroundColorPicker.interactive = false" @mousedown.away="backgroundColorPicker.open = false; backgroundColorPicker.interactive = false" @touchend.away="backgroundColorPicker.open = false; backgroundColorPicker.interactive = false"><div class="color-swatch transparent-bg" x-ref="backgroundColorSwatch" @mousedown="backgroundColorPicker.interactive = true" @mousemove.window="backgroundColorPicker.interactive && updateXY($event, 'backgroundColor')" @mouseup.window="backgroundColorPicker.interactive = false" @touchstart="backgroundColorPicker.interactive = true" @touchmove.window="backgroundColorPicker.interactive && updateXY($event, 'backgroundColor')" @touchend.window="backgroundColorPicker.interactive = false"><div :style="` background-color: hsl(${ backgroundColorPicker.hue }, 100%, 50%); opacity:${ backgroundColorPicker.alpha }; will-change: background-color;`"><div class="white-gradient"><div class="black-gradient"></div></div></div><span class="color-location" :style="`transform: translate(${ backgroundColorPicker.x }px, ${ backgroundColorPicker.y }px)`"></span></div><label class="sr-only" classfor="backgroundColorHue">Hue</label> <input id="backgroundColorHue" class="hue" @input="{updateHue($event.target.value, 'backgroundColor')}" type="range" min="0" max="360" step="0.1" :value="backgroundColorPicker.hue"> <label class="sr-only" for="backgroundColorAlpha">Alpha</label> <input id="backgroundColorAlpha" class="alpha" @input="{updateAlpha($event.target.value, 'backgroundColor')}" type="range" min="0" max="1" step="0.01" :value="backgroundColorPicker.alpha" :style="`background-image: linear-gradient(to right, rgba(0,0,0,0) 5%, ${ backgroundColor.substring(0, 7)} 100%), url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202%202%22%3E%3Cpath%20d%3D%22M1%202V0h1v1H0v1z%22%20fill-opacity%3D%22.15%22%2F%3E%3C%2Fsvg%3E')`"></div></div><label for="strokeWidth" class="">Stroke width</label> <input id="strokeWidth" @input="strokeWidth = Number($event.target.value)" :value="Number(strokeWidth)" type="range" min="0.25" max="10" step="0.25"></div></div><div class="aside-footer"><button @click="isCopying = !navigator.share; share($refs.shareButton)" @click.debounce.1000="isCopying = false" x-show="!isCopying"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg> Share</button> <button x-cloak x-show="isCopying"><svg className="{style.ButtonIcon}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg> Copied</button> <button @click="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/><path d="M0 0h24v24H0z" fill="none"/></svg> Download</button></div></aside></main><script>!function(){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n,r,i,o,s=e((function(e,t){e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e){return Array.from(new Set(e))}function i(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function o(e,t){var n;return function(){var r=this,i=arguments,o=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(o,t)}}function s(e,t,n={}){return new Function(["$data",...Object.keys(n)],`var result; with($data) { result = ${e} }; return result`)(t,...Object.values(n))}const a=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)\b/;function l(e){const t=c(e.name);return a.test(t)}function u(e,t){return Array.from(e.attributes).filter(l).map(e=>{const t=c(e.name),n=t.match(a),r=t.match(/:([a-zA-Z\-:]+)/),i=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:n?n[1]:null,value:r?r[1]:null,modifiers:i.map(e=>e.replace(".","")),expression:e.value}}).filter(e=>!t||e.type===t)}function c(e){return e.startsWith("@")?e.replace("@","x-on:"):e.startsWith(":")?e.replace(":","x-bind:"):e}function d(e,t,n=!1){if(n)return t();const r=u(e,"transition"),i=u(e,"show")[0];if(i&&i.modifiers.includes("transition")){let n=i.modifiers;if(n.includes("out")&&!n.includes("in"))return t();const r=n.includes("in")&&n.includes("out");n=r?n.filter((e,t)=>t<n.indexOf("out")):n,function(e,t,n){const r={duration:p(t,"duration",150),origin:p(t,"origin","center"),first:{opacity:0,scale:p(t,"scale",95)},second:{opacity:1,scale:100}};f(e,t,n,()=>{},r)}(e,n,t)}else r.filter(e=>["enter","enter-start","enter-end"].includes(e.value)).length>0?function(e,t,n){const r=(t.find(e=>"enter"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e),i=(t.find(e=>"enter-start"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e),o=(t.find(e=>"enter-end"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e);m(e,r,i,o,n,()=>{})}(e,r,t):t()}function h(e,t,n=!1){if(n)return t();const r=u(e,"transition"),i=u(e,"show")[0];if(i&&i.modifiers.includes("transition")){let n=i.modifiers;if(n.includes("in")&&!n.includes("out"))return t();const r=n.includes("in")&&n.includes("out");n=r?n.filter((e,t)=>t>n.indexOf("out")):n,function(e,t,n,r){const i={duration:n?p(t,"duration",150):p(t,"duration",150)/2,origin:p(t,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:p(t,"scale",95)}};f(e,t,()=>{},r,i)}(e,n,r,t)}else r.filter(e=>["leave","leave-start","leave-end"].includes(e.value)).length>0?function(e,t,n){const r=(t.find(e=>"leave"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e),i=(t.find(e=>"leave-start"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e),o=(t.find(e=>"leave-end"===e.value)||{expression:""}).expression.split(" ").filter(e=>""!==e);m(e,r,i,o,()=>{},n)}(e,r,t):t()}function p(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&!g(r))return n;if("duration"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}function f(e,t,n,r,i){const o=e.style.opacity,s=e.style.transform,a=e.style.transformOrigin,l=!t.includes("opacity")&&!t.includes("scale"),u=l||t.includes("opacity"),c=l||t.includes("scale"),d={start(){u&&(e.style.opacity=i.first.opacity),c&&(e.style.transform=`scale(${i.first.scale/100})`)},during(){c&&(e.style.transformOrigin=i.origin),e.style.transitionProperty=[u?"opacity":"",c?"transform":""].join(" ").trim(),e.style.transitionDuration=i.duration/1e3+"s",e.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){n()},end(){u&&(e.style.opacity=i.second.opacity),c&&(e.style.transform=`scale(${i.second.scale/100})`)},hide(){r()},cleanup(){u&&(e.style.opacity=o),c&&(e.style.transform=s),c&&(e.style.transformOrigin=a),e.style.transitionProperty=null,e.style.transitionDuration=null,e.style.transitionTimingFunction=null}};_(e,d)}function m(e,t,n,r,i,o){const s=e.__x_original_classes||[],a={start(){e.classList.add(...n)},during(){e.classList.add(...t)},show(){i()},end(){e.classList.remove(...n.filter(e=>!s.includes(e))),e.classList.add(...r)},hide(){o()},cleanup(){e.classList.remove(...t.filter(e=>!s.includes(e))),e.classList.remove(...r.filter(e=>!s.includes(e)))}};_(e,a)}function _(e,t){t.start(),t.during(),requestAnimationFrame(()=>{let n=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""));t.show(),requestAnimationFrame(()=>{t.end(),setTimeout(()=>{t.hide(),e.isConnected&&t.cleanup()},n)})})}function g(e){return!isNaN(e)}function v(e,t,r,i,o){"template"!==t.tagName.toLowerCase()&&console.warn("Alpine: [x-for] directive should only be added to <template> tags.");let s=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let i=n[1].trim().replace(/^\(|\)$/g,""),o=i.match(t);return o?(r.item=i.replace(t,"").trim(),r.index=o[1].trim(),o[2]&&(r.collection=o[2].trim())):r.item=i,r}(r),a=function(e,t,n,r){let i=u(t,"if")[0];return i&&!e.evaluateReturnExpression(t,i.expression)?[]:e.evaluateReturnExpression(t,n.items,r)}(e,t,s,o),l=t;a.forEach((r,c)=>{let h=function(e,t,r,i,o){let s=o?n({},o):{};return s[e.item]=t,e.index&&(s[e.index]=r),e.collection&&(s[e.collection]=i),s}(s,r,c,a,o()),p=function(e,t,n,r){let i=u(t,"bind").filter(e=>"key"===e.value)[0];return i?e.evaluateReturnExpression(t,i.expression,()=>r):n}(e,t,c,h),f=function(e,t){if(!e)return;if(e.__x_for_key===t)return e;let n=e;for(;n;){if(n.__x_for_key===t)return n.parentElement.insertBefore(n,e);n=!(!n.nextElementSibling||void 0===n.nextElementSibling.__x_for_key)&&n.nextElementSibling}}(l.nextElementSibling,p);f?(delete f.__x_for_key,f.__x_for=h,e.updateElements(f,()=>f.__x_for)):(f=function(e,t){let n=document.importNode(e.content,!0);return 1!==n.childElementCount&&console.warn("Alpine: <template> tag with [x-for] encountered with multiple element roots. Make sure <template> only has a single child node."),t.parentElement.insertBefore(n,t.nextElementSibling),t.nextElementSibling}(t,l),d(f,()=>{},i),f.__x_for=h,e.initializeElements(f,()=>f.__x_for)),l=f,l.__x_for_key=p}),function(e){for(var t=!(!e.nextElementSibling||void 0===e.nextElementSibling.__x_for_key)&&e.nextElementSibling;t;){let e=t,n=t.nextElementSibling;h(t,()=>{e.remove()}),t=!(!n||void 0===n.__x_for_key)&&n}}(l)}function y(e,t,n,i,o,s){var a=e.evaluateReturnExpression(t,i,o);if("value"===n)if(void 0===a&&i.match(/\./).length&&(a=""),"radio"===t.type)void 0===t.attributes.value&&"bind"===s?t.value=a:"bind"!==s&&(t.checked=t.value==a);else if("checkbox"===t.type){if(Array.isArray(a)){let e=!1;a.forEach(n=>{n==t.value&&(e=!0)}),t.checked=e}else t.checked=!!a;"string"==typeof a&&(t.value=a)}else if("SELECT"===t.tagName)!function(e,t){const n=[].concat(t).map(e=>e+"");Array.from(e.options).forEach(e=>{e.selected=n.includes(e.value||e.text)})}(t,a);else{if(t.value===a)return;t.value=a}else if("class"===n)if(Array.isArray(a)){const e=t.__x_original_classes||[];t.setAttribute("class",r(e.concat(a)).join(" "))}else if("object"==typeof a)Object.keys(a).sort((e,t)=>a[e]-a[t]).forEach(e=>{a[e]?e.split(" ").filter(Boolean).forEach(e=>t.classList.add(e)):e.split(" ").filter(Boolean).forEach(e=>t.classList.remove(e))});else{const e=t.__x_original_classes||[],n=a.split(" ").filter(Boolean);t.setAttribute("class",r(e.concat(n)).join(" "))}else[null,void 0,!1].includes(a)?t.removeAttribute(n):function(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}(n)?t.setAttribute(n,n):t.setAttribute(n,a)}function b(e,t,n,r,i,s={}){if(r.includes("away")){let o=a=>{t.contains(a.target)||t.offsetWidth<1&&t.offsetHeight<1||(w(e,i,a,s),r.includes("once")&&document.removeEventListener(n,o))};document.addEventListener(n,o)}else{let a=r.includes("window")?window:r.includes("document")?document:t,l=o=>{a!==window&&a!==document||document.body.contains(t)?function(e){return["keydown","keyup"].includes(e)}(n)&&function(e,t){let n=t.filter(e=>!["window","document","prevent","stop"].includes(e));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,g((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&n[0]===x(e.key))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(e=>n.includes(e));return n=n.filter(e=>!r.includes(e)),!(r.length>0&&r.filter(t=>("cmd"!==t&&"super"!==t||(t="meta"),e[t+"Key"])).length===r.length&&n[0]===x(e.key))}(o,r)||(r.includes("prevent")&&o.preventDefault(),r.includes("stop")&&o.stopPropagation(),r.includes("self")&&o.target!==t)||(!1===w(e,i,o,s)?o.preventDefault():r.includes("once")&&a.removeEventListener(n,l)):a.removeEventListener(n,l)};if(r.includes("debounce")){let e=r[r.indexOf("debounce")+1]||"invalid-wait",t=g(e.split("ms")[0])?Number(e.split("ms")[0]):250;l=o(l,t)}a.addEventListener(n,l)}}function w(e,t,r,i){return e.evaluateCommandExpression(r.target,t,()=>n({},i(),{$event:r}))}function x(e){switch(e){case"/":return"slash";case" ":case"Spacebar":return"space";default:return e&&e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}}function k(e,t,n){return"radio"===e.type&&(e.hasAttribute("name")||e.setAttribute("name",n)),(n,r)=>{if(n instanceof CustomEvent&&n.detail)return n.detail;if("checkbox"===e.type)return Array.isArray(r)?n.target.checked?r.concat([n.target.value]):r.filter(e=>e!==n.target.value):n.target.checked;if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(e=>{const t=e.value||e.text,n=t?parseFloat(t):null;return isNaN(n)?t:n}):Array.from(n.target.selectedOptions).map(e=>e.value||e.text);{const e=n.target.value,r=e?parseFloat(e):null;return t.includes("number")?isNaN(r)?e:r:t.includes("trim")?e.trim():e}}}const{isArray:E}=Array,{getPrototypeOf:A,create:O,defineProperty:S,defineProperties:C,isExtensible:P,getOwnPropertyDescriptor:T,getOwnPropertyNames:D,getOwnPropertySymbols:$,preventExtensions:N,hasOwnProperty:L}=Object,{push:M,concat:j,map:R}=Array.prototype;function F(e){return void 0===e}function I(e){return"function"==typeof e}const U=new WeakMap;function z(e,t){U.set(e,t)}const q=e=>U.get(e)||e;function W(e,t){return e.valueIsObservable(t)?e.getProxy(t):t}function B(e,t,n){j.call(D(n),$(n)).forEach(r=>{let i=T(n,r);i.configurable||(i=ee(e,i,W)),S(t,r,i)}),N(t)}class H{constructor(e,t){this.originalTarget=t,this.membrane=e}get(e,t){const{originalTarget:n,membrane:r}=this,i=n[t],{valueObserved:o}=r;return o(n,t),r.getProxy(i)}set(e,t,n){const{originalTarget:r,membrane:{valueMutated:i}}=this;return r[t]!==n?(r[t]=n,i(r,t)):"length"===t&&E(r)&&i(r,t),!0}deleteProperty(e,t){const{originalTarget:n,membrane:{valueMutated:r}}=this;return delete n[t],r(n,t),!0}apply(e,t,n){}construct(e,t,n){}has(e,t){const{originalTarget:n,membrane:{valueObserved:r}}=this;return r(n,t),t in n}ownKeys(e){const{originalTarget:t}=this;return j.call(D(t),$(t))}isExtensible(e){const t=P(e);if(!t)return t;const{originalTarget:n,membrane:r}=this,i=P(n);return i||B(r,e,n),i}setPrototypeOf(e,t){}getPrototypeOf(e){const{originalTarget:t}=this;return A(t)}getOwnPropertyDescriptor(e,t){const{originalTarget:n,membrane:r}=this,{valueObserved:i}=this.membrane;i(n,t);let o=T(n,t);if(F(o))return o;const s=T(e,t);return F(s)?(o=ee(r,o,W),o.configurable||S(e,t,o),o):s}preventExtensions(e){const{originalTarget:t,membrane:n}=this;return B(n,e,t),N(t),!0}defineProperty(e,t,n){const{originalTarget:r,membrane:i}=this,{valueMutated:o}=i,{configurable:s}=n;if(L.call(n,"writable")&&!L.call(n,"value")){const e=T(r,t);n.value=e.value}return S(r,t,function(e){return L.call(e,"value")&&(e.value=q(e.value)),e}(n)),!1===s&&S(e,t,ee(i,n,W)),o(r,t),!0}}function X(e,t){return e.valueIsObservable(t)?e.getReadOnlyProxy(t):t}class Y{constructor(e,t){this.originalTarget=t,this.membrane=e}get(e,t){const{membrane:n,originalTarget:r}=this,i=r[t],{valueObserved:o}=n;return o(r,t),n.getReadOnlyProxy(i)}set(e,t,n){return!1}deleteProperty(e,t){return!1}apply(e,t,n){}construct(e,t,n){}has(e,t){const{originalTarget:n,membrane:{valueObserved:r}}=this;return r(n,t),t in n}ownKeys(e){const{originalTarget:t}=this;return j.call(D(t),$(t))}setPrototypeOf(e,t){}getOwnPropertyDescriptor(e,t){const{originalTarget:n,membrane:r}=this,{valueObserved:i}=r;i(n,t);let o=T(n,t);if(F(o))return o;const s=T(e,t);return F(s)?(o=ee(r,o,X),L.call(o,"set")&&(o.set=void 0),o.configurable||S(e,t,o),o):s}preventExtensions(e){return!1}defineProperty(e,t,n){return!1}}function G(e){let t=void 0;return E(e)?t=[]:"object"==typeof e&&(t={}),t}const K=Object.prototype;function Z(e){if(null===e)return!1;if("object"!=typeof e)return!1;if(E(e))return!0;const t=A(e);return t===K||null===t||null===A(t)}const V=(e,t)=>{},J=(e,t)=>{},Q=e=>e;function ee(e,t,n){const{set:r,get:i}=t;return L.call(t,"value")?t.value=n(e,t.value):(F(i)||(t.get=function(){return n(e,i.call(q(this)))}),F(r)||(t.set=function(t){r.call(q(this),e.unwrapProxy(t))})),t}class te{constructor(e){if(this.valueDistortion=Q,this.valueMutated=J,this.valueObserved=V,this.valueIsObservable=Z,this.objectGraph=new WeakMap,!F(e)){const{valueDistortion:t,valueMutated:n,valueObserved:r,valueIsObservable:i}=e;this.valueDistortion=I(t)?t:Q,this.valueMutated=I(n)?n:J,this.valueObserved=I(r)?r:V,this.valueIsObservable=I(i)?i:Z}}getProxy(e){const t=q(e),n=this.valueDistortion(t);if(this.valueIsObservable(n)){const r=this.getReactiveState(t,n);return r.readOnly===e?e:r.reactive}return n}getReadOnlyProxy(e){e=q(e);const t=this.valueDistortion(e);return this.valueIsObservable(t)?this.getReactiveState(e,t).readOnly:t}unwrapProxy(e){return q(e)}getReactiveState(e,t){const{objectGraph:n}=this;let r=n.get(t);if(r)return r;const i=this;return r={get reactive(){const n=new H(i,t),r=new Proxy(G(t),n);return z(r,e),S(this,"reactive",{value:r}),r},get readOnly(){const n=new Y(i,t),r=new Proxy(G(t),n);return z(r,e),S(this,"readOnly",{value:r}),r}},n.set(t,r),r}}class ne{constructor(e,t=null){this.$el=e;const n=this.$el.getAttribute("x-data"),r=""===n?"{}":n,i=this.$el.getAttribute("x-init");this.unobservedData=t||s(r,{});let{membrane:o,data:a}=this.wrapDataInObservable(this.unobservedData);var l;this.$data=a,this.membrane=o,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=e=>{this.nextTickStack.push(e)},this.watchers={},this.unobservedData.$watch=(e,t)=>{this.watchers[e]||(this.watchers[e]=[]),this.watchers[e].push(t)},this.showDirectiveStack=[],this.showDirectiveLastElement,i&&!t&&(this.pauseReactivity=!0,l=this.evaluateReturnExpression(this.$el,i),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),"function"==typeof l&&l.call(this.$data)}getUnobservedData(){return function(e,t){let n=e.unwrapProxy(t),r={};return Object.keys(n).forEach(e=>{["$el","$refs","$nextTick","$watch"].includes(e)||(r[e]=n[e])}),r}(this.membrane,this.$data)}wrapDataInObservable(e){var t=this;let n=o((function(){t.updateElements(t.$el)}),0);return function(e,t){let n=new te({valueMutated(e,n){t(e,n)}});return{data:n.getProxy(e),membrane:n}}(e,(e,r)=>{t.watchers[r]?t.watchers[r].forEach(t=>t(e[r])):Object.keys(t.watchers).filter(e=>e.includes(".")).forEach(n=>{let i=n.split(".");r===i[i.length-1]&&i.reduce((i,o)=>(Object.is(e,i)&&t.watchers[n].forEach(t=>t(e[r])),i[o]),t.getUnobservedData())}),t.pauseReactivity||n()})}walkAndSkipNestedComponents(e,t,n=(()=>{})){!function e(t,n){if(!1===n(t))return;let r=t.firstElementChild;for(;r;)e(r,n),r=r.nextElementSibling}(e,e=>e.hasAttribute("x-data")&&!e.isSameNode(this.$el)?(e.__x||n(e),!1):t(e))}initializeElements(e,t=(()=>{})){this.walkAndSkipNestedComponents(e,e=>void 0===e.__x_for_key&&void 0===e.__x_inserted_me&&void this.initializeElement(e,t),e=>{e.__x=new ne(e)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}initializeElement(e,t){e.hasAttribute("class")&&u(e).length>0&&(e.__x_original_classes=e.getAttribute("class").split(" ")),this.registerListeners(e,t),this.resolveBoundAttributes(e,!0,t)}updateElements(e,t=(()=>{})){this.walkAndSkipNestedComponents(e,e=>{if(void 0!==e.__x_for_key&&!e.isSameNode(this.$el))return!1;this.updateElement(e,t)},e=>{e.__x=new ne(e)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}executeAndClearNextTickStack(e){if(e===this.$el)for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(e=>new Promise(t=>{e(e=>{t(e)})})).reduce((e,t)=>e.then(()=>t.then(e=>e())),Promise.resolve(()=>{})),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(e,t){this.resolveBoundAttributes(e,!1,t)}registerListeners(e,t){u(e).forEach(({type:r,value:i,modifiers:o,expression:s})=>{switch(r){case"on":b(this,e,i,o,s,t);break;case"model":!function(e,t,r,i,o){var s="select"===t.tagName.toLowerCase()||["checkbox","radio"].includes(t.type)||r.includes("lazy")?"change":"input";b(e,t,s,r,`${i} = rightSideOfExpression($event, ${i})`,()=>n({},o(),{rightSideOfExpression:k(t,r,i)}))}(this,e,o,s,t)}})}resolveBoundAttributes(e,t=!1,n){let r=u(e);if(void 0!==e.type&&"radio"===e.type){const e=r.findIndex(e=>"model"===e.type);e>-1&&r.push(r.splice(e,1)[0])}r.forEach(({type:i,value:o,modifiers:s,expression:a})=>{switch(i){case"model":y(this,e,"value",a,n,i);break;case"bind":if("template"===e.tagName.toLowerCase()&&"key"===o)return;y(this,e,o,a,n,i);break;case"text":var l=this.evaluateReturnExpression(e,a,n);!function(e,t,n){void 0===t&&n.match(/\./).length&&(t=""),e.innerText=t}(e,l,a);break;case"html":!function(e,t,n,r){t.innerHTML=e.evaluateReturnExpression(t,n,r)}(this,e,a,n);break;case"show":l=this.evaluateReturnExpression(e,a,n),function(e,t,n,r,i=!1){const o=()=>{t.style.display="none"},s=()=>{1===t.style.length&&"none"===t.style.display?t.removeAttribute("style"):t.style.removeProperty("display")};if(!0===i)return void(n?s():o());const a=e=>{n?(""!==t.style.display&&d(t,()=>{s()}),e(()=>{})):"none"!==t.style.display?h(t,()=>{e(()=>{o()})}):e(()=>{})};r.includes("immediate")?a(e=>e()):(e.showDirectiveLastElement&&!e.showDirectiveLastElement.contains(t)&&e.executeAndClearRemainingShowDirectiveStack(),e.showDirectiveStack.push(a),e.showDirectiveLastElement=t)}(this,e,l,s,t);break;case"if":if(r.filter(e=>"for"===e.type).length>0)return;l=this.evaluateReturnExpression(e,a,n),function(e,t,n,r,i){"template"!==t.nodeName.toLowerCase()&&console.warn("Alpine: [x-if] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#x-if");const o=t.nextElementSibling&&!0===t.nextElementSibling.__x_inserted_me;if(n&&!o){const n=document.importNode(t.content,!0);t.parentElement.insertBefore(n,t.nextElementSibling),d(t.nextElementSibling,()=>{},r),e.initializeElements(t.nextElementSibling,i),t.nextElementSibling.__x_inserted_me=!0}else!n&&o&&h(t.nextElementSibling,()=>{t.nextElementSibling.remove()},r)}(this,e,l,t,n);break;case"for":v(this,e,a,t,n);break;case"cloak":e.removeAttribute("x-cloak")}})}evaluateReturnExpression(e,t,r=(()=>{})){return s(t,this.$data,n({},r(),{$dispatch:this.getDispatchFunction(e)}))}evaluateCommandExpression(e,t,r=(()=>{})){return function(e,t,n={}){if(Object.keys(t).includes(e)){let r=new Function(["dataContext",...Object.keys(n)],`with(dataContext) { return ${e} }`)(t,...Object.values(n));if("function"==typeof r)return r.call(t,n.$event)}return new Function(["dataContext",...Object.keys(n)],`with(dataContext) { ${e} }`)(t,...Object.values(n))}(t,this.$data,n({},r(),{$dispatch:this.getDispatchFunction(e)}))}getDispatchFunction(e){return(t,n={})=>{e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0}))}}listenForNewElementsToInitialize(){const e=this.$el;new MutationObserver(e=>{for(let t=0;t<e.length;t++){const n=e[t].target.closest("[x-data]");if(n&&n.isSameNode(this.$el)){if("attributes"===e[t].type&&"x-data"===e[t].attributeName){const n=s(e[t].target.getAttribute("x-data"),{});Object.keys(n).forEach(e=>{this.$data[e]!==n[e]&&(this.$data[e]=n[e])})}e[t].addedNodes.length>0&&e[t].addedNodes.forEach(e=>{1!==e.nodeType||e.__x_inserted_me||(e.matches("[x-data]")?e.__x=new ne(e):this.initializeElements(e))})}}}).observe(e,{childList:!0,attributes:!0,subtree:!0})}getRefsProxy(){var e=this;return new Proxy({},{get(t,n){return"$isAlpineProxy"===n||(e.walkAndSkipNestedComponents(e.$el,e=>{e.hasAttribute("x-ref")&&e.getAttribute("x-ref")===n&&(r=e)}),r);var r}})}}const re={version:"2.3.5",start:async function(){i()||await new Promise(e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()}),this.discoverComponents(e=>{this.initializeComponent(e)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(e=>{this.initializeComponent(e)})}),this.listenForNewUninitializedComponentsAtRunTime(e=>{this.initializeComponent(e)})},discoverComponents:function(e){document.querySelectorAll("[x-data]").forEach(t=>{e(t)})},discoverUninitializedComponents:function(e,t=null){const n=(t||document).querySelectorAll("[x-data]");Array.from(n).filter(e=>void 0===e.__x).forEach(t=>{e(t)})},listenForNewUninitializedComponentsAtRunTime:function(e){const t=document.querySelector("body");new MutationObserver(e=>{for(let t=0;t<e.length;t++)e[t].addedNodes.length>0&&e[t].addedNodes.forEach(e=>{1===e.nodeType&&(e.parentElement&&e.parentElement.closest("[x-data]")||this.discoverUninitializedComponents(e=>{this.initializeComponent(e)},e.parentElement))})}).observe(t,{childList:!0,attributes:!0,subtree:!0})},initializeComponent:function(e){e.__x||(e.__x=new ne(e))},clone:function(e,t){t.__x||(t.__x=new ne(t,e.getUnobservedData()))}};return i()||(window.Alpine=re,window.deferLoadingAlpine?window.deferLoadingAlpine((function(){window.Alpine.start()})):window.Alpine.start()),re}()})),a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l=e((function(e){var t=Array.prototype.concat,n=Array.prototype.slice,r=e.exports=function(e){for(var r,i=[],o=0,s=e.length;o<s;o++){var a=e[o];(r=a)&&"string"!=typeof r&&(r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&"String"!==r.constructor.name))?i=t.call(i,n.call(a)):i.push(a)}return i};r.wrap=function(e){return function(){return e(r(arguments))}}})),u=e((function(e){var t={};for(var n in a)a.hasOwnProperty(n)&&(t[a[n]]=n);var r=e.exports={to:{},get:{}};function i(e,t,n){return Math.min(Math.max(t,e),n)}function o(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}r.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=r.get.hsl(e),n="hsl";break;case"hwb":t=r.get.hwb(e),n="hwb";break;default:t=r.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},r.get.rgb=function(e){if(!e)return null;var t,n,r,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(t.slice(s,s+2),16)}r&&(o[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);r&&(o[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=a[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=i(o[n],0,255);return o[3]=i(o[3],0,1),o},r.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,i(parseFloat(t[2]),0,100),i(parseFloat(t[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},r.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,i(parseFloat(t[2]),0,100),i(parseFloat(t[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},r.to.hex=function(){var e=l(arguments);return"#"+o(e[0])+o(e[1])+o(e[2])+(e[3]<1?o(Math.round(255*e[3])):"")},r.to.rgb=function(){var e=l(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},r.to.rgb.percent=function(){var e=l(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},r.to.hsl=function(){var e=l(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},r.to.hwb=function(){var e=l(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},r.to.keyword=function(e){return t[e.slice(0,3)]}})),c=(u.to,u.get,{}),d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,n,r,i,o){var s={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(s.__v=s),t.vnode&&t.vnode(s),s}function _(e){return e.children}function g(e,t){this.props=e,this.context=t}function v(e,t){if(null==t)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?v(e):null}function y(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return y(e)}}function b(e){(!e.__d&&(e.__d=!0)&&n.push(e)&&!r++||o!==t.debounceRendering)&&((o=t.debounceRendering)||i)(w)}function w(){for(var e;r=n.length;)e=n.sort((function(e,t){return e.__v.__b-t.__v.__b})),n=[],e.some((function(e){var t,n,r,i,o,s,a;e.__d&&(s=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=p({},o)).__v=r,i=O(a,o,r,t.__n,void 0!==a.ownerSVGElement,null,n,null==s?v(o):s),S(n,o),i!=s&&y(o)))}))}function x(e,t,n,r,i,o,s,a,l,u){var h,p,g,y,b,w,x,k,E,A=r&&r.__k||d,S=A.length;for(l==c&&(l=null!=s?s[0]:S?v(r,0):null),n.__k=[],h=0;h<t.length;h++)if(null!=(y=n.__k[h]=null==(y=t[h])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y?m(null,y,null,null,y):Array.isArray(y)?m(_,{children:y},null,null,null):null!=y.__e||null!=y.__c?m(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(g=A[h])||g&&y.key==g.key&&y.type===g.type)A[h]=void 0;else for(p=0;p<S;p++){if((g=A[p])&&y.key==g.key&&y.type===g.type){A[p]=void 0;break}g=null}if(b=O(e,y,g=g||c,i,o,s,a,l,u),(p=y.ref)&&g.ref!=p&&(k||(k=[]),g.ref&&k.push(g.ref,null,y),k.push(p,y.__c||b,y)),null!=b){if(null==x&&(x=b),E=void 0,void 0!==y.__d)E=y.__d,y.__d=void 0;else if(s==g||b!=l||null==b.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(b),E=null;else{for(w=l,p=0;(w=w.nextSibling)&&p<S;p+=2)if(w==b)break e;e.insertBefore(b,l),E=l}"option"==n.type&&(e.value="")}l=void 0!==E?E:b.nextSibling,"function"==typeof n.type&&(n.__d=l)}else l&&g.__e==l&&l.parentNode!=e&&(l=v(g))}if(n.__e=x,null!=s&&"function"!=typeof n.type)for(h=s.length;h--;)null!=s[h]&&f(s[h]);for(h=S;h--;)null!=A[h]&&T(A[h],A[h]);if(k)for(h=0;h<k.length;h++)P(k[h],k[++h],k[++h])}function k(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===h.test(t)?n+"px":null==n?"":n}function E(e,t,n,r,i){var o,s,a,l,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(l in r)n&&l in n||k(o,l,"");if(n)for(u in n)r&&n[u]===r[u]||k(o,u,n[u])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),n?(r||e.addEventListener(t,A,s),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,A,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function A(e){this.l[e.type](t.event?t.event(e):e)}function O(e,n,r,i,o,s,a,l,u){var c,d,h,f,m,v,y,b,w,k,E,A=n.type;if(void 0!==n.constructor)return null;(c=t.__b)&&c(n);try{e:if("function"==typeof A){if(b=n.props,w=(c=A.contextType)&&i[c.__c],k=c?w?w.props.value:c.__:i,r.__c?y=(d=n.__c=r.__c).__=d.__E:("prototype"in A&&A.prototype.render?n.__c=d=new A(b,k):(n.__c=d=new g(b,k),d.constructor=A,d.render=D),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=k,d.__n=i,h=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=A.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,A.getDerivedStateFromProps(b,d.__s))),f=d.props,m=d.state,h)null==A.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==A.getDerivedStateFromProps&&b!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,k),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,k)||n.__v===r.__v){for(d.props=b,d.state=d.__s,n.__v!==r.__v&&(d.__d=!1),d.__v=n,n.__e=r.__e,n.__k=r.__k,d.__h.length&&a.push(d),c=0;c<n.__k.length;c++)n.__k[c]&&(n.__k[c].__=n);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,k),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,m,v)}))}d.context=k,d.props=b,d.state=d.__s,(c=t.__r)&&c(n),d.__d=!1,d.__v=n,d.__P=e,c=d.render(d.props,d.state,d.context),null!=d.getChildContext&&(i=p(p({},i),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(f,m)),E=null!=c&&c.type==_&&null==c.key?c.props.children:c,x(e,Array.isArray(E)?E:[E],n,r,i,o,s,a,l,u),d.base=n.__e,d.__h.length&&a.push(d),y&&(d.__E=d.__=null),d.__e=!1}else null==s&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=C(r.__e,n,r,i,o,s,a,u);(c=t.diffed)&&c(n)}catch(e){n.__v=null,t.__e(e,n,r)}return n.__e}function S(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function C(e,t,n,r,i,o,s,a){var l,u,h,p,f,m=n.props,_=t.props;if(i="svg"===t.type||i,null!=o)for(l=0;l<o.length;l++)if(null!=(u=o[l])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,o[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,_.is&&{is:_.is}),o=null,a=!1}if(null===t.type)m!==_&&e.data!=_&&(e.data=_);else{if(null!=o&&(o=d.slice.call(e.childNodes)),h=(m=n.props||c).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!a){if(null!=o)for(m={},f=0;f<e.attributes.length;f++)m[e.attributes[f].name]=e.attributes[f].value;(p||h)&&(p&&h&&p.__html==h.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||E(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||E(e,o,t[o],n[o],r)})(e,_,m,i,a),p?t.__k=[]:(l=t.props.children,x(e,Array.isArray(l)?l:[l],t,n,r,"foreignObject"!==t.type&&i,o,s,c,a)),a||("value"in _&&void 0!==(l=_.value)&&l!==e.value&&E(e,"value",l,m.value,!1),"checked"in _&&void 0!==(l=_.checked)&&l!==e.checked&&E(e,"checked",l,m.checked,!1))}return e}function P(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function T(e,n,r){var i,o,s;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||P(i,null,n)),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&T(i[s],n,r);null!=o&&f(o)}function D(e,t,n){return this.constructor(e,n)}t={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return b(n.__E=n)}catch(t){e=t}throw e}},g.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},g.prototype.render=_,n=[],r=0,i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;const $=(e,t=3)=>Number(Math.round(e+"e"+t)+"e-"+t),N=(e,t,n)=>{t=t||0,n=n||!1;const r=Math.random()*(e-t);return n?$(r+t,0):r+t},L=(e,t)=>{const{x:n,y:r}=e,i=Math.min(...n,...r),o=n.map(e=>e+-1*i),s=r.map(e=>e+-1*i),a=t/Math.max(...o,...s);return{x:o.map(e=>$(e*a)),y:s.map(e=>$(e*a))}},M=()=>{const e=()=>({amplitude:200,frequency:$(N(4,2,!0)+N(.02,-.02)),phase:$(N(0,Math.PI)),damping:$(N(0,.01))});return[e(),e(),e(),e()]};var j=(e,t,n=M())=>{let r=0,i=0;const o={x:[],y:[]};for(;r<60*e;){r++;const e=n.map(e=>e.amplitude*Math.sin(e.frequency*i+e.phase)*Math.exp(-e.damping*i)),s=e[0]+e[1],a=e[2]+e[3];o.x.push((s+t)/2),o.y.push((a+t)/2),i+=.01}return L(o,t)},R=M,F=L;j.randomPendulums=R,j.adjustXY=F;const{randomPendulums:I}=j,U=(e,t=3)=>Number(Math.round(e+"e"+t)+"e-"+t);var z=I,q=(e,t,n)=>{const{x:r,y:i}=j(e,t,n),o={x:[],y:[],cpX:[],cpY:[]},s=r.length;for(let e=0;e<s;e+=50){o.x.push(r[e]),o.y.push(i[e]);const t=e<=0?0:e-1,n=e>=s?s-1:e+1,a=25/3*(r[n]-r[t]),l=25/3*(i[n]-i[t]);o.cpX.push(a),o.cpY.push(l)}const a=["M",o.x[0],o.y[0],"C",U(o.x[0]+o.cpX[0]),U(o.y[0]+o.cpY[0])+",",U(o.x[1]-o.cpX[1]),U(o.y[1]-o.cpY[1])+",",o.x[1],o.y[1]],l=o.x.length;if(l>2){a.push("S");for(let e=2;e<l;e++)a.push(U(o.x[e]-o.cpX[e])),a.push(U(o.y[e]-o.cpY[e])+","),a.push(o.x[e]),a.push(o.y[e])}return a.join(" ")};const W=e=>{if(!e)return z();const t=[],n=e.split(",").map(e=>Number(e));for(let e=0;e<n.length;e+=4)t.push({amplitude:n[e],frequency:n[e+1],phase:n[e+2],damping:n[e+3]});return t},B=e=>e?"#"+e:"#"+Math.random().toString(16).slice(2,8).toString(16).toUpperCase(),H=([e,t,n,r])=>{let i,o,s;e/=360;const a=Math.floor(6*e),l=6*e-a,c=n*(1-t),d=n*(1-l*t),h=n*(1-(1-l)*t);switch(a%6){case 0:i=n,o=h,s=c;break;case 1:i=d,o=n,s=c;break;case 2:i=c,o=n,s=h;break;case 3:i=c,o=d,s=n;break;case 4:i=h,o=c,s=n;break;case 5:i=n,o=c,s=d;break;default:console.error("problem with hsvaToHex color conversion")}const p=[Math.round(255*i),Math.round(255*o),Math.round(255*s),r];return u.to.hex(p)};s.start(),window.getInitialData=()=>{const e=window.location.search.replace("?h=","").split("+"),t=B(e[0]),n=B(e[1]),r=W(e[5]),i=q(150,700,r);return{strokeWidth:e[2]||1,drawTime:Number(e[3])||0,drawTimeInterval:null,isDrawing:"false"!==e[4],backgroundColor:n,backgroundColorInput:n,strokeColor:t,strokeColorInput:t,pathLength:null,path:i,pendulums:r,isCopying:!1,backgroundColorPicker:{x:0,y:0,open:!1,interactive:!1,hue:0,alpha:1,rect:{}},strokeColorPicker:{x:0,y:0,open:!1,interactive:!1,hue:0,alpha:1,rect:{}},initApp(){this.setUpColorPicker("strokeColor"),this.setUpColorPicker("backgroundColor"),this.getPathLength(),this.isDrawing="false"!==e[4],this.$nextTick(()=>{this.startAnimation()})},getPathLength(){this.$nextTick(()=>{const e=this.$refs.svg.querySelector("path");this.pathLength=e.getTotalLength()})},randomise(){const e=W();this.pendulums=e,this.backgroundColor=B(),this.strokeColor=B(),this.pathLength=null,this.path=q(150,700,e),this.setUpColorPicker("backgroundColor"),this.setUpColorPicker("strokeColor"),history.pushState(null,"","?"),this.getPathLength(),this.pauseAnimation()},download(){const e=this.$refs.svg.cloneNode(!0),t=e.firstElementChild;e.removeAttribute(":style"),e.removeAttribute("x-ref"),t.removeAttribute(":stroke"),t.removeAttribute(":stroke-width"),t.removeAttribute(":d"),t.removeAttribute(":style");const n=new Blob([e.outerHTML],{type:"image/svg+xml"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="harmonograph.svg",document.body.append(r),r.click(),r.remove()},async share(){const e=Object.values({strokeColor:this.strokeColor.replace("#",""),backgroundColor:this.backgroundColor.replace("#",""),strokeWidth:this.strokeWidth,drawTime:this.drawTime,isDrawing:this.isDrawing,pendulums:this.pendulums.flatMap(e=>Object.values(e)).join(",")}).join("+"),t=`${window.location.origin}/?h=${e}`;navigator.share?await navigator.share({title:document.title,text:document.querySelector('meta[name="description"]').content,url:t}):await navigator.clipboard.writeText(t)},startAnimation(){this.isDrawing&&(this.drawTimeInterval=setInterval(()=>{this.drawTime+=1,this.drawTime>=100&&this.pauseAnimation()},1e3))},playAnimation(){this.isDrawing=!0,this.startAnimation()},pauseAnimation(){this.drawTimeInterval&&(this.isDrawing=!1,clearInterval(this.drawTimeInterval))},resetAnimation(){this.drawTime=0,this.playAnimation()},skipForward(){this.drawTime+5>=100&&(this.drawTime=100),this.drawTime+=5},skipBackward(){this.drawTime-5<=0&&(this.drawTime=0),this.drawTime-=5},scrollTo(e,t){const n=e+"Label";if(!(t.scrollHeight>t.clientHeight))return;const r=this.$refs[n].offsetTop-t.offsetTop;t.scrollTo({top:r}),this.setUpColorPicker(e)},updateHue(e,t){const n=t+"Picker",r=H([e,this[n].x/this[n].rect.width,1-this[n].y/this[n].rect.height,this[n].alpha]);this[n].hue=e,this[t]=r,this[t+"Input"]=r},updateAlpha(e,t){const n=t+"Picker",r=H([this[n].hue,this[n].x/this[n].rect.width,1-this[n].y/this[n].rect.height,e]);this[n].alpha=e,this[t]=r,this[t+"Input"]=r},getRgbColor(e){const t=u.get(e);return t?t.value:null},updateColor(e){const t=e+"Input",n=this.getRgbColor(this[t]);n&&(this[e]=this[t],this.setUpColorPicker(e,n))},setUpColorPicker(e,t){const n=t||this.getRgbColor(this[e]),r=e+"Picker",i=e+"Swatch",[o,s,a,l]=(([e,t,n,r])=>{const i=Math.max(e,t,n),o=Math.min(e,t,n),s=i-o,a=0===i?0:s/i,l=i/255;let u;switch(i){case o:u=0;break;case e:u=t-n+s*(t<n?6:0),u/=6*s;break;case t:u=n-e+2*s,u/=6*s;break;case n:u=e-t+4*s,u/=6*s;break;default:console.error("problem with rgbaToHsva color conversion")}return u=Math.round(360*u),[u,a,l,r]})(n);this.$refs[i].parentElement.style.display="block",this[r].rect=this.$refs[i].getBoundingClientRect(),this.$refs[i].parentElement.style.display="none",this[r].hue=o,this[r].alpha=l,this[r].x=this[r].rect.width*s,this[r].y=this[r].rect.height-a*this[r].rect.height},updateXY(e,t){const n=t+"Picker";if(!e.clientX&&!e.touches)return;const r=e.clientX||e.touches[0].clientX,i=e.clientY||e.touches[0].clientY;let o=r-this[n].rect.left,s=i-this[n].rect.top;const{width:a,height:l}=this[n].rect;o<0?o=0:o>a&&(o=a),s<0?s=0:s>l&&(s=l);const u=H([this[n].hue,o/a,1-s/l,this[n].alpha]);this[t]=u,this[t+"Input"]=u,this[n].x=o,this[n].y=s}}}}();</script></body></html>